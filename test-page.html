<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="resources/js/pdf.js"></script>
</head>
<body>
	<canvas id="my_canvas"></canvas>

	<script>
		pdfjsLib.getDocument('./payslip.pdf').then(doc => {
			console.log("This file has " + doc._pdfInfo.numPages + " pages");

			doc.getPage(1).then(page => {
				var myCanvas = document.getElementById("my_canvas");

				var context = myCanvas.getContext("2d"); 

				var viewport = page.getViewport(1);

				myCanvas.width = viewport.width;

				myCanvas.height = viewport.height;

				page.render({
					canvasContext : context,
					viewport : viewport
				});
			})
		});
	</script>

	<script type="text/javascript">
		function getCursorPosition(canvas, event) {
			const rect = canvas.getBoundingClientRect()
			const x = event.clientX - rect.left
			const y = event.clientY - rect.top
			console.log("x: " + x + " y: " + y)
		}

		const canvas = document.querySelector('canvas')
		canvas.addEventListener('mousedown', function(e) {
			getCursorPosition(canvas, e)
		})
	</script>

</body>

</html>